/* Generated by Opal 0.11.4 */
(function(Opal) {
  function $rb_plus(lhs, rhs) {
    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);
  }
  var self = Opal.top, $nesting = [], nil = Opal.nil, $breaker = Opal.breaker, $slice = Opal.slice, $klass = Opal.klass, $send = Opal.send, $hash2 = Opal.hash2;

  Opal.add_stubs(['$getTableCommandResult', '$setPrefixes', '$+', '$keys']);
  return (function($base, $super, $parent_nesting) {
    function $Oukahoushin3rd(){};
    var self = $Oukahoushin3rd = $klass($base, $super, 'Oukahoushin3rd', $Oukahoushin3rd);

    var def = self.$$proto, $nesting = [self].concat($parent_nesting), TMP_Oukahoushin3rd_initialize_1, TMP_Oukahoushin3rd_gameName_2, TMP_Oukahoushin3rd_gameType_3, TMP_Oukahoushin3rd_getHelpMessage_4, TMP_Oukahoushin3rd_rollDiceCommand_5, $a;

    
    
    Opal.defn(self, '$initialize', TMP_Oukahoushin3rd_initialize_1 = function $$initialize() {
      var self = this, $iter = TMP_Oukahoushin3rd_initialize_1.$$p, $yield = $iter || nil, $zuper = nil, $zuper_i = nil, $zuper_ii = nil;

      if ($iter) TMP_Oukahoushin3rd_initialize_1.$$p = null;
      // Prepare super implicit arguments
      for($zuper_i = 0, $zuper_ii = arguments.length, $zuper = new Array($zuper_ii); $zuper_i < $zuper_ii; $zuper_i++) {
        $zuper[$zuper_i] = arguments[$zuper_i];
      }
      return $send(self, Opal.find_super_dispatcher(self, 'initialize', TMP_Oukahoushin3rd_initialize_1, false), $zuper, $iter)
    }, TMP_Oukahoushin3rd_initialize_1.$$arity = 0);
    
    Opal.defn(self, '$gameName', TMP_Oukahoushin3rd_gameName_2 = function $$gameName() {
      var self = this;

      return "央華封神RPG第三版"
    }, TMP_Oukahoushin3rd_gameName_2.$$arity = 0);
    
    Opal.defn(self, '$gameType', TMP_Oukahoushin3rd_gameType_3 = function $$gameType() {
      var self = this;

      return "Oukahoushin3rd"
    }, TMP_Oukahoushin3rd_gameType_3.$$arity = 0);
    
    Opal.defn(self, '$getHelpMessage', TMP_Oukahoushin3rd_getHelpMessage_4 = function $$getHelpMessage() {
      var self = this;

      return "" + "・各種表\n" + "　・能力値判定裏成功表（NHT）\n" + "　・武器攻撃裏成功表（BKT）\n" + "　・受け・回避裏成功表（UKT）\n" + "　・仙術行使裏成功表（SKT）\n" + "　・仙術抵抗裏成功表（STT）\n" + "　・精神値ダメージ悪影響表（SDT）\n" + "　・狂気表（KKT）\n"
    }, TMP_Oukahoushin3rd_getHelpMessage_4.$$arity = 0);
    
    Opal.defn(self, '$rollDiceCommand', TMP_Oukahoushin3rd_rollDiceCommand_5 = function $$rollDiceCommand(command) {
      var $a, self = this;

      return self.$getTableCommandResult(command, (($a = $Oukahoushin3rd.$$cvars['@@tables']) == null ? nil : $a))
    }, TMP_Oukahoushin3rd_rollDiceCommand_5.$$arity = 1);
    (Opal.class_variable_set($Oukahoushin3rd, '@@tables', $hash2(["BKT", "KKT", "NHT", "SDT", "SKT", "STT", "UKT"], {"BKT": $hash2(["name", "type", "table"], {"name": "武器攻撃裏成功表", "type": "2D6", "table": "" + "1ポイント清徳値が低下。連続攻撃が行える。この場合の連続攻撃においては、命中判定のサイコロは常にひっくり返して用いるが、2撃目以降はこの表は使わない。\n" + "敵に叩きつけると同時に武器が破損。素手や身体に備わった武器（爪、牙など）で攻撃をしていた場合には、自身にも1D6（のみ）ダメージ。\n" + "効果的命中。ダメージに1D6加算。ただし極度に疲労するため、精神値に1D6点ダメージを受ける。（2ゾロ）1ポイント仙骨が上昇、体力または機敏（攻撃を行った者が選択する）が1ポイント低下。\n" + "ふつうの命中。\n" + "不完全な命中、ダメージは半分。（3ゾロ）1ポイント仙骨が低下。\n" + "ふつうの命中。\n" + "体力または機敏（攻撃を行った者が選択する）が1D6日間、1ポイント上昇。（4ゾロ）能力値の上昇は永遠。\n" + "ふつうの命中。\n" + "体力または機敏（攻撃を行った者が選択する）が1D6日間、1ポイント低下。（5ゾロ）能力値の低下は永遠。\n" + "呼吸を乱す、数瞬間（1D6ラウンド）は仙術を使用できない。\n" + "1ポイント清徳値が低下。体力または機敏（攻撃を行った者が選択する）が1ポイント上昇。\n"}), "KKT": $hash2(["name", "type", "table"], {"name": "狂気表", "type": "2D6", "table": "" + "心神喪失、生ける屍。\n" + "被害妄想。仲間も含め、他者は全て自分を傷つけようとしていると思いこむ。行動はゲームマスターが管理。\n" + "重度の不安症。失敗を恐れるあまり、次ラウンドは行動不可。それ以降も、2ラウンドに1回しか行動できない（自動武器や使役獣への命令なども）。\\n「次のラウンドに行動できない」状態では、「割り込み」は行えない。\n" + "重度の依存症。自分で行動を決められず、仲間に決めてもらわなければならない。\n" + "二重人格。二つ目の人格は狂気。新たに狂気表（KKT）で決定（再度二重人格が出た場合は、振りなおす）。狂気表を使った直後は、この二つ目の人格。\\n1日以上、二重人格が持続している場合、その間に精神値ダメージを受けるたびに、その直後に1Dを振らねばならない。1が出たらこの狂気が顔を出す。\\n二つ目の人格が顔を出している時間は、1Dで決定する（1～3：短時間、4～5：半日、6：1日）。\n" + "軽度の依存症。仲間の承認がなければ、思いついた行動を実行できない。\n" + "軽度の偏執狂。ある行為や物品などに異常な執着を示す。ただし、行動に大きな影響は与えない。具体的な内容は、ゲームマスターと玩家の相談で決定。\n" + "重度の偏執狂。行動に重大な影響を与える。具体的内容は、ゲームマスターが決定。\n" + "恐怖症。あるものに対して恐怖。対象からは、ひたすら逃亡しようとする。また、対象に遭遇するたびに、難易度10で意志の能力値判定を行わねばならず、失敗したら1Dの精神値ダメージを受ける。恐怖の対象は、ゲームマスターが決定。\n" + "狂暴化。仲間も含め、他者はすべて敵とみなし、傷つけようとする。行動はゲームマスターが管理。\n" + "錯乱。行動はゲームマスターが「なるべくでたらめになるように」決定する。\n"}), "NHT": $hash2(["name", "type", "table"], {"name": "能力値判定裏成功表", "type": "2D6", "table": "" + "1ポイント清徳値が低下。変な癖が身についてしまう。\n" + "やりすぎ。過剰な成功をしたり、よけいなことまでして災いが起こりうる。\n" + "「気」の爆発。大成功。ただし極度に疲労するため、精神値に1D6点ダメージを受ける。（2ゾロ）1ポイント仙骨が上昇、使用した能力値が1ポイント低下。\n" + "ふつうの成功。\n" + "不完全な成功、数値的効果は半分ほどに見積もる。（3ゾロ）1ポイント仙骨が低下。\n" + "ふつうの成功。\n" + "使用した能力値が1D6日間、1ポイント上昇。（4ゾロ）能力値の上昇は永遠。\n" + "ふつうの成功。\n" + "使用した能力値が1D6日間、1ポイント低下。（5ゾロ）能力値の低下は永遠。\n" + "呼吸を乱す、数瞬間（1D6ラウンド）は仙術を使用できない。\n" + "1ポイント清徳値が低下。使用した能力値が1ポイント上昇。\n"}), "SDT": $hash2(["name", "type", "table"], {"name": "精神値ダメージ悪影響表", "type": "1D6", "table": "" + "一瞬の放心。直後の判定は自動的に失敗。精神値を1D6×最大値の10％回復。\n" + "一瞬の放心。直後の判定は自動的に失敗。精神値を1D6×最大値の10％回復。\n" + "一瞬の放心。直後の判定は自動的に失敗。精神値を1D6×最大値の10％回復。\n" + "放心状態。強制され、自動失敗するまで、自発的行動不可。精神値を（1D6+2）×最大値の10％回復。\n" + "精神異常（具体的内容は狂気表（KKT）で決定）。短時間のみ。精神値を（1D6+4）×最大値の10％回復。\n" + "精神異常（具体的内容は狂気表（KKT）で決定）。期間は1D6を振って決定（1～3：1日、4～5：99日間、6：永遠）。精神値を最大値まで回復。\n"}), "SKT": $hash2(["name", "type", "table"], {"name": "仙術行使裏成功表", "type": "2D6", "table": "" + "1ポイント清徳値が低下。1ポイント仙骨が上昇。\n" + "術の効果は術者にも解除不能になる。精神値に1点ダメージを受ける。\n" + "「気」の暴走。効果3倍。ただし極度に疲労するため、精神値に1D6点ダメージを受ける。（2ゾロ）術者は1D6日間、仙術が使用不能になる。1ポイント仙骨が上昇。\n" + "術が敵にかけたものの場合、仲間の1人を巻きこむ。精神値に1点ダメージを受ける。\n" + "不完全な成功、効果半分。（3ゾロ）持続時間のある術の場合、術者がひたすら精神集中していない限り、術はすぐに解除される。\n" + "ふつうの成功。\n" + "1ポイント清徳値が低下。（4ゾロ）仙骨以外のいずれかの能力値（術者選択）が1D6日間、1ポイント上昇。\n" + "術が味方もしくは自分にかけたものの場合、敵の1人にも同じようにかかる。精神値に1点ダメージを受ける。\n" + "仙骨以外のいずれかの能力値（術者選択）が1D6日間、1ポイント低下。（5ゾロ）能力値の低下は永遠。\n" + "1D3ポイント清徳値が低下。\n" + "1D6ポイント清徳値が低下。仙骨以外のいずれかの能力値（術者選択）が1ポイント上昇。\n"}), "STT": $hash2(["name", "type", "table"], {"name": "仙術抵抗裏成功表", "type": "2D6", "table": "" + "1ポイント清徳値が低下。\n" + "そらされた術の効果が味方に及ぶ。味方の誰にそらされたかは、この表を使ったものが選ぶ。集団攻撃仙術の場合、抵抗に成功したものの中から選ぶこと。ほかの誰も成功に抵抗していなかったときは、ふつうの抵抗成功として扱う。精神値に1点ダメージを受ける。\n" + "仙術をかけた敵にその効果が及ぼされる。敵自身はそれに対して、抵抗を試みることができる。（2ゾロ）1ポイント仙骨が上昇。1ポイント知覚が低下。\n" + "ふつうの抵抗成功。\n" + "不完全な抵抗、ふつうの半分の効果を受ける。（3ゾロ）1ポイント仙骨が低下。\n" + "ふつうの抵抗成功。\n" + "仙骨または知覚（仙術に抵抗した者が選択する）が1D6日間、1ポイント上昇。（4ゾロ）能力値の上昇は永遠。\n" + "ふつうの抵抗成功。\n" + "仙骨または知覚（仙術に抵抗した者が選択する）が1D6日間、1ポイント低下。（5ゾロ）能力値の低下は永遠。\n" + "呼吸を乱す、数瞬間（1D6ラウンド）は仙術を使用できない。\n" + "1ポイント清徳値が低下。仙骨または知覚（仙術に抵抗した者が選択する）が1ポイント上昇。\n"}), "UKT": $hash2(["name", "type", "table"], {"name": "受け・回避裏成功表", "type": "2D6", "table": "" + "1ポイント清徳値が低下。\n" + "転倒する（空を飛んでいるものは落下。乗騎などに乗っていたら転落）。精神値に1点ダメージを受ける。\n" + "相手のバランスを崩すのに成功。攻撃を行った敵が転倒（空を飛んでいるものは落下。乗騎などに乗っていたら転落）。（2ゾロ）1ポイント仙骨が上昇、機敏または知覚（攻撃を防御した者が選択する）が1ポイント低下。\n" + "ふつうの防御成功。\n" + "不完全な防御、通常の半分のダメージを受ける。しかし敵が連続攻撃を行うことは出来ない。攻撃者が裏成功攻撃であってもその反動は決めない。（3ゾロ）1ポイント仙骨が低下。\n" + "ふつうの防御成功。\n" + "機敏または知覚（攻撃を防御した者が選択する）が1D6日間、1ポイント上昇。（4ゾロ）能力値の上昇は永遠。\n" + "ふつうの防御成功。\n" + "機敏または知覚（攻撃を防御した者が選択する）が1D6日間、1ポイント低下。（5ゾロ）能力値の低下は永遠。\n" + "呼吸を乱す、数瞬間（1D6ラウンド）は仙術を使用できない。\n" + "1ポイント清徳値が低下。機敏または知覚（攻撃を防御した者が選択する）が1ポイント上昇。\n"})})));
    return self.$setPrefixes($rb_plus([], (($a = $Oukahoushin3rd.$$cvars['@@tables']) == null ? nil : $a).$keys()));
  })($nesting[0], Opal.const_get_relative($nesting, 'DiceBot'), $nesting)
})(Opal);

/* Generated by Opal 0.11.4 */
(function(Opal) {
  var self = Opal.top, $nesting = [], nil = Opal.nil, $breaker = Opal.breaker, $slice = Opal.slice;

  Opal.add_stubs(['$exit']);
  return Opal.const_get_relative($nesting, 'Kernel').$exit()
})(Opal);
